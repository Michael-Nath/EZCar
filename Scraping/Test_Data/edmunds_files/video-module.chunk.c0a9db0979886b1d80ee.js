(window.webpackJsonp=window.webpackJsonp||[]).push([["video-module"],{"../node_modules/@kunukn/react-collapse/dist/Collapse.umd.js":function(e,t,n){e.exports=function(e){"use strict";var t="default"in e?e.default:e;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(s,!0).forEach(function(t){n(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],s=!0,a=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(s=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r="collapsed",l="collapsing",c="expanding",d="expanded";function u(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}return function(n){var a=n.children,p=n.transition,m=n.style,h=n.render,b=n.elementType,f=void 0===b?"div":b,g=n.isOpen,v=n.collapseHeight,y=void 0===v?"0px":v,O=n.onInit,j=n.onChange,x=n.className,C=void 0===x?"collapse-css-transition":x,w=n.addState,E=n.noAnim,k=n.overflowOnExpanded,N=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["children","transition","style","render","elementType","isOpen","collapseHeight","onInit","onChange","className","addState","noAnim","overflowOnExpanded"]),_=function(){return"0px"===y?"hidden":""},T=i(e.useReducer(function(e){return e+1},0),2),I=(T[0],T[1]),L=e.useRef(),A=i(e.useState(0),2),P=A[0],S=A[1],V=e.useRef({collapse:g?d:r,style:{height:g?"":y,visibility:g?"":_()}}).current;e.useEffect(function(){P&&D(j)},[P]);var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(e.name,e(o({state:V.collapse,style:V.style},t)))};function B(){L.current&&(V.collapse=r,V.style={height:y,visibility:_()},I(),setTimeout(function(){return S(Date.now)},0))}function z(){L.current&&(V.collapse=d,V.style={height:"",visibility:""},I(),setTimeout(function(){return S(Date.now)},0))}function R(){return"".concat(L.current.scrollHeight,"px")}var H=V.collapse===d||V.collapse===c;!H&&g&&function(){if(L.current){if(E)return z();V.collapse=c,u(function(){L.current&&V.collapse===c&&(V.style={height:R(),visibility:""},S(Date.now))})}}(),H&&!g&&function(){if(L.current){if(E)return B();V.collapse=l,V.style={height:R(),visibility:""},I(),u(function(){L.current&&V.collapse===l&&(V.style={height:y,visibility:""},S(Date.now))})}}();var $=o({overflow:V.collapse===d&&k?"":"hidden",transition:p},m,{},V.style),M=f,F=e.useCallback(function(e){e&&(L.current=e,D(O,{node:e}))},[f]),U=w?"".concat(C," --c-").concat(V.collapse):C;return t.createElement(M,s({ref:F,style:$,onTransitionEnd:function(e){var t=e.target,n=e.propertyName;if(t===L.current&&"height"===n){var s=t.style.height;switch(V.collapse,V.collapse){case c:""===s||s===y||z();break;case l:""===s||s!==y||B()}}},className:U},N),"function"==typeof a?a(V.collapse):"function"==typeof h?h(V.collapse):a)}}(n("../node_modules/react/index.js"))},"./site-modules/shared/components/arrow-link/arrow-link.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("../node_modules/react/index.js"),i=n.n(o),r=n("../node_modules/prop-types/index.js"),l=n.n(r),c=n("../node_modules/classnames/index.js"),d=n.n(c),u=n("./site-modules/shared/components/link/link.jsx");function p(e){let t=e.to,n=e.children,o=e.className,r=Object(a.a)(e,["to","children","className"]);return i.a.createElement("span",{className:d()("arrow-link text-primary-darker d-block size-16",o)},i.a.createElement(u.a,Object(s.a)({to:t},r),n),i.a.createElement("i",{className:"icon-arrow-right4 size-10 ml-0_25"}))}p.propTypes={to:l.a.string,children:l.a.node,className:l.a.string},p.defaultProps={to:"",children:"",className:""}},"./site-modules/shared/components/content-collapse/content-collapse.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var s=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../node_modules/prop-types/index.js"),o=n.n(a),i=n("../node_modules/react/index.js"),r=n.n(i),l=n("../node_modules/classnames/index.js"),c=n.n(l),d=n("../node_modules/@kunukn/react-collapse/dist/Collapse.umd.js"),u=n.n(d),p=n("../node_modules/reactstrap/lib/Button.js"),m=n.n(p),h=n("./utils/seed-randomizers.js"),b=n("../node_modules/react-scroll/lib/modules/index.js");n("./site-modules/shared/components/content-collapse/content-collapse.scss");class f extends i.Component{constructor(e){super(e),this.toggle=(e=>{e&&e.preventDefault();const t=this.props,n=t.resetParams,s=t.scrollToDefault,a=this.state.isOpen;n&&this.initialCloseComplete&&a&&b.scroller.scrollTo(n.to||s&&this.collapseId,{duration:n.duration,offset:n.offset,smooth:"easeInOutQuad",isDynamic:!0}),this.hasBeenOpenedAfterLoad=this.hasBeenOpenedAfterLoad||!a&&this.initialCloseComplete,this.setState(()=>({isOpen:!a}))}),this.passChildren=(e=>"function"==typeof e?e({isOpen:this.state.isOpen,initialCloseComplete:this.initialCloseComplete,hasBeenOpenedAfterLoad:this.hasBeenOpenedAfterLoad}):e),this.renderCollapseBtn=(()=>{const e=this.props,t=e.btnClasses,n=e.btnColor,s=e.btnContainerClasses,a=e.btnArrowClasses,o=e.btnTextClasses,i=e.textOpen,l=e.textClosed,d=e.justify,u=e.hideIndicator,p=e.closeBtnClasses,h=e.btnTrackingId,b=e.btnSize,f=this.state.isOpen;return r.a.createElement("div",{className:c()("collapse-control mb-0 row align-items-center",d,s)},r.a.createElement(m.a,{size:b,color:n,className:c()("content-collapse-button",t,f?p:""),onClick:this.toggle,"data-tracking-id":h?`${h}${f?"_collapse":"_expand"}`:null,"data-tracking-ignore-value":!0,"data-no-refresh":!0,"aria-expanded":f},r.a.createElement("span",{className:c()("control-text",o)},f?i:l),!u&&r.a.createElement("span",{className:c()(a,"size-10",f?"icon-arrow-up4":"icon-arrow-down4")})))}),this.renderCollapseLink=(()=>{const e=this.props,t=e.btnClasses,n=e.btnTextClasses,s=e.textOpen,a=e.textClosed,o=e.hideIndicator,i=e.closeBtnClasses,l=e.btnTrackingId,d=this.state.isOpen;return r.a.createElement("div",{className:c()("collapse-control mt-1 mb-0 px-0_5 row align-items-center")},r.a.createElement("a",{className:c()("content-collapse-button text-primary-darker",t,d?i:""),href:"#",onClick:this.toggle,"data-tracking-id":l?`${l}${d?"_collapse":"_expand"}`:null,"data-tracking-ignore-value":!0,"data-no-refresh":!0,"aria-expanded":d},r.a.createElement("span",{className:c()("control-text",n)},d?s:a),!o&&r.a.createElement("span",{className:c()("size-10 mb-0",d?"icon-arrow-up4":"icon-arrow-down4")})))});const t=e.isOpenOnLoad,n=e.closeAfterLoad;this.state={isOpen:t},this.collapseId=`collapse${Math.ceil(Object(h.b)()*Number.MAX_SAFE_INTEGER)}`,this.initialCloseComplete=!t,this.hasBeenOpenedAfterLoad=t&&!n}componentDidMount(){this.props.closeAfterLoad&&(this.toggle(),this.initialCloseComplete=!0)}render(){const e=this.props,t=e.minHeight,n=e.isEclipseFade,a=e.children,o=e.classes,i=e.showBtnBelow,l=e.trackingId,d=e.trackingValue,p=e.isBtnLink,m=e.noAnim,h=e.truncatedChildren;return r.a.createElement("div",Object(s.a)({className:c()("content-collapse",o,{isEclipseFade:n})},"none"===this.props.maxHeight?{}:{style:{maxHeight:this.props.maxHeight}},{"data-tracking-id":l,"data-tracking-value":d}),r.a.createElement(b.Element,{name:this.collapseId}),!i&&this.renderCollapseBtn(),r.a.createElement(u.a,{isOpen:this.state.isOpen,collapseHeight:h?"":t,addState:!0,noAnim:m,transition:"height 280ms cubic-bezier(0.4, 0, 0.2, 1)"},!this.props.truncatedChildren||this.state.isOpen?this.passChildren(a):this.passChildren(this.props.truncatedChildren)),i&&(p?this.renderCollapseLink():this.renderCollapseBtn()))}}f.propTypes={isOpenOnLoad:o.a.bool,closeAfterLoad:o.a.bool,hideIndicator:o.a.bool,minHeight:o.a.string,maxHeight:o.a.string,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node,o.a.func]).isRequired,truncatedChildren:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node,o.a.func]),textClosed:o.a.oneOfType([o.a.string,o.a.node]),textOpen:o.a.oneOfType([o.a.string,o.a.node]),isEclipseFade:o.a.bool,classes:o.a.string,btnClasses:o.a.string,closeBtnClasses:o.a.string,btnColor:o.a.string,btnContainerClasses:o.a.string,btnArrowClasses:o.a.string,btnTextClasses:o.a.string,btnSize:o.a.string,showBtnBelow:o.a.bool,justify:o.a.string,trackingId:o.a.string,trackingValue:o.a.string,btnTrackingId:o.a.string,resetParams:o.a.shape({offset:o.a.number,duration:o.a.number,to:o.a.string}),scrollToDefault:o.a.bool,isBtnLink:o.a.bool,noAnim:o.a.bool},f.defaultProps={isOpenOnLoad:!1,closeAfterLoad:!1,hideIndicator:!1,minHeight:"0",maxHeight:"none",textClosed:"Read more",textOpen:"Read less",isEclipseFade:!0,classes:"",btnClasses:"",btnColor:"link",btnContainerClasses:"py-0_5",btnArrowClasses:"h6 mb-0",btnTextClasses:"",btnSize:"sm",closeBtnClasses:"",showBtnBelow:!1,justify:"justify-content-center",trackingId:"view_content_summary",trackingValue:null,btnTrackingId:null,resetParams:null,scrollToDefault:!1,isBtnLink:!1,truncatedChildren:null,noAnim:!1}},"./site-modules/shared/components/content-collapse/content-collapse.scss":function(e,t,n){},"./site-modules/shared/components/video-module/video-module.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"onImageError",function(){return _}),n.d(t,"VideoModuleUI",function(){return T}),n.d(t,"VideoVehicleModule",function(){return I}),n.d(t,"VideoTypeModule",function(){return L});n("../node_modules/core-js/modules/es6.regexp.replace.js");var s=n("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),a=n("../node_modules/react/index.js"),o=n.n(a),i=n("../node_modules/prop-types/index.js"),r=n.n(i),l=n("../node_modules/reactstrap/lib/Row.js"),c=n.n(l),d=n("../node_modules/reactstrap/lib/Col.js"),u=n.n(d),p=n("../node_modules/classnames/index.js"),m=n.n(p),h=n("./data/luckdragon/redux/react-binding.jsx"),b=n("./utils/event-toolbox.js"),f=n("./tracking/constant.js"),g=n("./data/models/cms.js"),v=n("./data/cms/content.js"),y=n("./data/models/vehicle.js"),O=n("./data/models/media.js"),j=n("./utils/image-helpers.js"),x=n("./site-modules/shared/components/video/embedded-youtube/embedded-youtube-async.jsx"),C=n("./site-modules/shared/components/content-collapse/content-collapse.jsx"),w=n("./site-modules/shared/components/arrow-link/arrow-link.jsx"),E=n("./site-modules/shared/components/render-when-viewable/render-when-viewable.jsx"),k=n("./site-modules/shared/components/client-side-render/client-side-render.jsx"),N=n("./site-modules/shared/utils/upper-funnel/content-path.js");n("./site-modules/shared/components/video-module/video-module.scss");function _(e){return function(t){t.currentTarget.src=e}}class T extends a.Component{constructor(e){super(e),this.getVideoMeta=(e=>o.a.createElement(a.Fragment,null,o.a.createElement("meta",{itemProp:"thumbnailUrl",content:Object(j.s)(e.thumbnailURL)?Object(j.g)(e.thumbnailURL):e.thumbnailURL}),o.a.createElement("meta",{itemProp:"uploadDate",content:e.uploadDate}),o.a.createElement("meta",{itemProp:"name",content:e.videoTitle}),o.a.createElement("meta",{itemProp:"description",content:e.videoDescription}),o.a.createElement("meta",{itemProp:"transcript",content:e.videoTranscript}))),this.loadVideo=((e,t)=>n=>{n.preventDefault(),this.videoIndex=t,this.setState({currentVideo:e})}),this.changeHandler=(e=>{const t=window.YT.PlayerState;switch(e.data){case t.ENDED:this.playNextVideo();break;case t.PLAYING:this.setState({isPlaying:!0});break;default:this.setState({isPlaying:!1})}}),this.videoIndex=0,this.state={currentVideo:e.videos&&e.videos[0],isPlaying:!1}}static getDerivedStateFromProps(e,t){return t.currentVideo?{}:{currentVideo:e.videos&&e.videos[0]}}shouldComponentUpdate(e,t){return this.state!==t}playNextVideo(){const e=this.props.videos;this.videoIndex+=1,e[this.videoIndex]&&this.setState({currentVideo:e[this.videoIndex],isPlaying:!1})}render(){const e=this.props,t=e.vehicle,n=e.videos,a=e.pageName,i=e.playlistTitle,r=e.videoLargeColumnSize,l=e.playlistLargeColumnSize,d=e.playlistHasCurrentVideo,p=e.seeAllLink,h=e.hideVideoDetails,g=e.className,v=this.state.isPlaying;if(!n||!n.length)return null;const y=f.b.SYNPARTNER,O=f.b.SYSTEM_ACTION_CATEGORY,N=f.b.ACTION_SHOW_CONTENT,T={event_type:"action_completed",event_data:Object(s.a)({action_category:O,action_name:N,synpartner:y,action_cause:"page_load",subaction_name:"show_video_yes_no",value:`${n&&n.length?"yes":"no"}`},a?{page_name:a}:{},a?{page_category:a}:{})};b.a.fireTrackAction(T);const I=n.length>1;let L;if(i)L=i;else if(t){L=`${t.year} ${t.make.name} ${t.model.name} video${I?"s":""}`}else L=`Video review${I?"s":""}`;const A=this.state.currentVideo,P=!h&&(A.videoTranscript||A.videoDescription);return o.a.createElement("div",{className:m()("video-module",g),"data-tracking-parent":"edm-entry-video",itemScope:!0,itemType:"http://schema.org/VideoObject"},o.a.createElement(c.a,{className:"d-flex"},o.a.createElement(u.a,{xs:12},o.a.createElement("h2",{className:"text-left display-2 mb-2 size-24 font-weight-bold"},L)),o.a.createElement(u.a,{xs:12,md:6,lg:r},o.a.createElement("div",{className:m()("embed-responsive",{"mb-1_5":!P})},o.a.createElement(E.a,{verticalOffset:"200%"},o.a.createElement(x.a,{videoId:A.videoId,videoTitle:A.videoTitle,creativeId:`video-${A.videoId}`,autoplay:!1,changeHandler:this.changeHandler,className:"embed-responsive-item",disableRelated:!0,autoplayOnChange:!0}))),this.getVideoMeta(A),P&&o.a.createElement(C.a,{textClosed:"Read description",textOpen:"Close description",justify:"justify-content-left",btnClasses:"size-16 pl-0_5 pr-0 py-0 text-primary-darker",showBtnBelow:!0,isOpenOnLoad:!0,closeAfterLoad:!0,isEclipseFade:!1},o.a.createElement("div",{className:"video-details"},A.videoTranscript&&o.a.createElement(C.a,{textClosed:"See transcript",textOpen:"Close transcript",justify:"justify-content-end pb-0",btnClasses:"size-16 pr-0_5 mr-0_25 text-primary-darker",btnContainerClasses:"transcript-button w-100",classes:"transcript pt-2 pos-r",showBtnBelow:!0,isOpenOnLoad:!0,closeAfterLoad:!0,isEclipseFade:!1},o.a.createElement("p",{className:"pt-0_5"},A.videoTranscript)),o.a.createElement("h3",{className:"mt-1 size-16 text-gray-darker"},A.videoTitle),A.videoDescription&&o.a.createElement("p",{className:"size-16 mb-0"},A.videoDescription)))),I&&o.a.createElement(u.a,{xs:12,md:6,lg:l,className:"playlist"},n.map((e,t)=>{if(!d&&e.videoId===A.videoId)return null;const n=Object(j.s)(e.thumbnailURL),s=n?Object(j.g)(e.thumbnailURL):e.thumbnailURL.replace("/vi/","/vi_webp/").replace("mqdefault.jpg","default.webp"),a=n?null:_(e.thumbnailURL.replace("mqdefault.jpg","default.jpg"));return o.a.createElement("div",{key:`video-${e.videoId}`,className:m()("playlist-item",{"now-playing":e.videoId===A.videoId&&v})},o.a.createElement("a",{href:"#",className:"d-flex",onClick:this.loadVideo(e,t)},o.a.createElement("div",{className:"thumbnail-wrapper"},o.a.createElement(k.a,null,o.a.createElement("img",{className:m()("float-left, w-100",{"youtube-preview":!n}),src:s,alt:e.videoTitle,onError:a}))),o.a.createElement("div",{className:"col size-16 px-1 text-primary-darker"},e.videoTitle)))}))),p&&o.a.createElement(w.a,{to:p.href,className:"mt-1_5"},p.title))}}T.propTypes={vehicle:y.d.MakeModelSubmodelYear,videos:O.a.Videos,pageName:r.a.string,playlistTitle:r.a.string,videoLargeColumnSize:r.a.number,playlistLargeColumnSize:r.a.number,playlistHasCurrentVideo:r.a.bool,seeAllLink:r.a.shape({href:r.a.string.isRequired,title:r.a.string.isRequired}),hideVideoDetails:r.a.bool,className:r.a.string},T.defaultProps={vehicle:null,videos:null,pageName:null,playlistTitle:"",videoLargeColumnSize:6,playlistLargeColumnSize:4,playlistHasCurrentVideo:!0,seeAllLink:null,hideVideoDetails:!1,className:"mb-2 pb-0_75"};const I=Object(h.b)(T,{videos:Object(h.a)(e=>{let t=e.vehicle;return Object(O.c)({make:t.make.slug,model:t.model.slug,year:t.year})},O.b)});I.propTypes={vehicle:y.d.MakeModelSubmodelYear,pageName:r.a.string},I.defaultProps={vehicle:null,pageName:null};const L=Object(h.b)(T,{videos:Object(h.a)(e=>{let t=e.type;return`content["${Object(N.a)(t)}"]`},g.b,e=>Object(v.e)(e).child("video").children().map(e=>e.getAllMetadata()))});L.propTypes={type:r.a.string.isRequired,pageName:r.a.string},L.defaultProps={pageName:null}},"./site-modules/shared/components/video-module/video-module.scss":function(e,t,n){},"./site-modules/shared/components/video/embedded-youtube/embedded-youtube-async.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("./site-modules/shared/components/lazy-load/lazy-load.jsx");const a=Object(s.a)({loader:()=>n.e("embedded-youtube").then(n.bind(null,"./site-modules/shared/components/video/embedded-youtube/embedded-youtube.jsx")),componentName:"EmbeddedYoutube"})},"./site-modules/shared/utils/upper-funnel/content-path.js":function(e,t,n){"use strict";function s(e){return`/editorial/includes/venom/review-links-${e}`}function a(e){return`/${e}/ranking-content`}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return a})}}]);
//# sourceMappingURL=video-module.chunk.49578ca6982c68f6d05c.js.map