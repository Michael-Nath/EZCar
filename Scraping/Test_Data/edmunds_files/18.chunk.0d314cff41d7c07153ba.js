(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"./site-modules/shared/components/deal/deal-type/deal-type.jsx":function(e,t,a){"use strict";a.d(t,"a",function(){return m});var s=a("../node_modules/react/index.js"),n=a.n(s),o=a("../node_modules/prop-types/index.js"),i=a.n(o),r=a("../node_modules/classnames/index.js"),l=a.n(r),d=a("./configuration.js"),c=a("./site-modules/shared/components/deal/deal-constants.js");a("./site-modules/shared/components/deal/deal-type/deal-type.scss");function m(e){let t=e.width,a=e.textSize,s=e.type,o=e.className,i=e.children,r=e.isCentered,m=e.isLabelAligned,u=e.labelClasses,p=e.copyClasses;const h=c.a[s];if(!h)return null;const v=s.toLowerCase(),y=`${d.a.get("unversionedUrl")}/img/inventory/svg/icon_${v}deal.svg`,g=`${s} Deal!`;return n.a.createElement("div",{className:l()("deal-type d-flex",{"justify-content-center justify-content-md-end":r},o)},n.a.createElement("img",{className:l()("deal-image d-block mr-0_25",{"align-self-baseline":m},u),width:t,src:y,alt:g}),n.a.createElement("div",{className:p},n.a.createElement("span",{className:l()("message m-0",h,a)},g),i))}m.propTypes={width:i.a.string,className:i.a.string,textSize:i.a.string,type:i.a.string,children:i.a.node,isCentered:i.a.bool,isLabelAligned:i.a.bool,labelClasses:i.a.string,copyClasses:i.a.string},m.defaultProps={width:"22",className:"",textSize:"h4",type:"",children:null,isCentered:!0,isLabelAligned:!0,labelClasses:"",copyClasses:""}},"./site-modules/shared/components/inventory-card/inventory-card-lease-terms.jsx":function(e,t,a){"use strict";a.d(t,"a",function(){return h});var s=a("../node_modules/react/index.js"),n=a.n(s),o=a("../node_modules/prop-types/index.js"),i=a.n(o),r=a("../node_modules/classnames/index.js"),l=a.n(r),d=a("../node_modules/reactstrap/lib/Table.js"),c=a.n(d),m=a("./site-modules/shared/utils/string.js"),u=a("./site-modules/shared/utils/price-utils.js"),p=a("./site-modules/shared/constants/default-lease-terms.js");a("./site-modules/shared/components/inventory-card/inventory-card-lease-terms.scss");function h(e){let t=e.className,a=e.captionClassName;return n.a.createElement(c.a,{size:"sm",borderless:!0,className:l()("inventory-card-lease-terms",t)},n.a.createElement("caption",{className:l()("text-gray-dark font-weight-bold py-0 mb-0_25",a)},"Terms of Lease:"),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Term of Lease:"),n.a.createElement("td",null,p.b," months")),n.a.createElement("tr",null,n.a.createElement("td",null,"Due at Signing:"),n.a.createElement("td",null,Object(u.a)(p.a))),n.a.createElement("tr",null,n.a.createElement("td",null,"Miles Per Year:"),n.a.createElement("td",null,Object(m.c)(p.c)))))}h.propTypes={className:i.a.string,captionClassName:i.a.string},h.defaultProps={className:"",captionClassName:""}},"./site-modules/shared/components/inventory-card/inventory-card-photo.jsx":function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"c",function(){return h}),a.d(t,"b",function(){return v});var s=a("../node_modules/react/index.js"),n=a.n(s),o=a("../node_modules/prop-types/index.js"),i=a.n(o),r=a("../node_modules/lodash/get.js"),l=a.n(r),d=a("./site-modules/shared/components/color-swatch/color-swatch.jsx"),c=a("./data/models/inventory.js"),m=a("./site-modules/shared/utils/inventory-utils.js"),u=a("./site-modules/shared/components/inventory-card/inventory-card-vehicle-photo.jsx");const p=600;function h(e,t,a,s){return e?t:a||s}function v(e){let t=e.vehicleInfo,a=e.vin,s=e.type,o=e.stockPhotoUrl,i=e.imageLoaded;const r=l()(t,"vehicleColors.exterior",null),c=l()(t,"vehicleColors.interior",null),p=l()(t,"mileage",null);return n.a.createElement("div",{className:"inventory-card-img pos-r"},i&&n.a.createElement(u.a,{vehicleInfo:t,vin:a,stockPhotoUrl:o,photoCountPath:"photo.defaultPhoto.largePhotoCount"}),n.a.createElement("div",{className:"color-row w-100 px-1"},r&&n.a.createElement(d.a,{color:r,displayColorName:!1,classNames:"d-inline-block rounded-circle inventory-card-img-color"}),c&&n.a.createElement(d.a,{color:c,displayColorName:!1,classNames:"d-inline-block rounded-circle inventory-card-img-color"}),Object(m.A)(s)&&p&&n.a.createElement("span",{className:"inventory-card-mileage text-white small align-text-top"},p.toLocaleString()," miles")))}v.propTypes={vehicleInfo:c.b.VehicleInfo.isRequired,vin:c.b.Vin.isRequired,type:c.b.Type.isRequired,stockPhotoUrl:i.a.string,imageLoaded:i.a.bool},v.defaultProps={stockPhotoUrl:"",imageLoaded:!0}},"./site-modules/shared/components/inventory-card/inventory-card-vehicle-photo.jsx":function(e,t,a){"use strict";a.d(t,"a",function(){return v});var s=a("../node_modules/react/index.js"),n=a.n(s),o=a("../node_modules/prop-types/index.js"),i=a.n(o),r=a("../node_modules/lodash/get.js"),l=a.n(r),d=a("./site-modules/shared/components/image/image.jsx"),c=a("./utils/image-helpers.js"),m=a("./site-modules/shared/constants/images.js"),u=a("./data/models/inventory.js"),p=a("./utils/inventory-image-helper.js"),h=a("./site-modules/shared/components/inventory-card/inventory-card-photo.jsx");function v(e){let t=e.vehicleInfo,a=e.vin,s=e.stockPhotoUrl,o=e.photoCountPath;const i=l()(t,"styleInfo",{}),r=i.make,u=i.model,v=i.year,y=i.style,g=r&&u&&v?`${r} ${u} ${v} ${void 0===y?"":y}`:"",b=l()(t,o,0),f=Object(c.n)(m.b),j=Object(c.o)(s),E=Object(p.b)(a,1,h.a,p.a._16x7),x=Object(h.c)(b,E,j,f);return n.a.createElement(d.a,{imageId:x,source:b?c.d.MEDIA:c.d.STATIC,className:"inventory-card-vehicle-photo card-img-top img-fluid mw-100 mh-100",errorImage:f,alt:g,width:h.a})}v.propTypes={vehicleInfo:u.b.VehicleInfo.isRequired,vin:u.b.Vin.isRequired,stockPhotoUrl:i.a.string,photoCountPath:i.a.string},v.defaultProps={stockPhotoUrl:"",photoCountPath:"photo.defaultPhoto.largePhotoCount"}},"./site-modules/shared/components/inventory-card/inventory-card.jsx":function(e,t,a){"use strict";var s=a("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=a("../node_modules/react/index.js"),o=a.n(n),i=a("../node_modules/prop-types/index.js"),r=a.n(i),l=a("../node_modules/classnames/index.js"),d=a.n(l),c=a("../node_modules/lodash/get.js"),m=a.n(c),u=a("./data/models/inventory.js"),p=a("../node_modules/reactstrap/lib/Card.js"),h=a.n(p),v=a("./site-modules/shared/utils/price-utils.js"),y=a("./site-modules/shared/components/inventory/vin-heart/vin-heart.jsx"),g=a("./site-modules/shared/components/inventory-heart/inventory-heart.jsx"),b=a("./site-modules/shared/components/link/link.jsx"),f=a("./site-modules/shared/utils/inventory-utils.js"),j=a("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),E=a("../node_modules/reactstrap/lib/Row.js"),x=a.n(E),P=a("../node_modules/reactstrap/lib/Col.js"),k=a.n(P),N=a("./site-modules/shared/constants/inventory/payment-types.js"),C=a("./site-modules/shared/components/inventory-card/inventory-card-photo.jsx"),_=a("../node_modules/reactstrap/lib/Button.js"),I=a.n(_);function A(e){let t=e.dealerInfo,a=e.buttonText,s=e.buttonClasses;const n=t.franchiseId,i=t.rooftopId;return o.a.createElement(I.a,{tag:"span",size:"sm",color:"outline-primary-b",className:`${s} w-100 inventory-card-cta-btn my-1 px-lg-0_5 px-xl-1`,"data-tracking-id":"dealer_view_pricing_details","data-dealer-rooftop-id":i,"data-dealer-franchise-id":n,"data-hidedelightedoninteraction":!0},a)}A.propTypes={dealerInfo:u.b.DealerInfo.isRequired,buttonText:r.a.string,buttonClasses:r.a.string},A.defaultProps={buttonText:"View Details",buttonClasses:"display-lg"};var w=a("../node_modules/lodash/capitalize.js"),T=a.n(w),O=a("../node_modules/lodash/lowerCase.js"),D=a.n(O);function S(e){let t=e.vehicleInfo,a=e.type;const s=t.styleInfo||null;if(!s)return null;const n=s.make,i=void 0===n?"":n,r=s.model,l=void 0===r?"":r,d=s.year,c=void 0===d?"":d,m=s.trim,u=void 0===m?"":m,p="cpo"===D()(a)?"Certified Used":T()(a);return o.a.createElement("div",{className:"card-name"},o.a.createElement("div",{className:"small text-gray-darker"},p," ",c),o.a.createElement("div",{className:"text-primary-darker"},i," ",l),o.a.createElement("div",{className:"medium text-gray-darker"},u))}S.propTypes={vehicleInfo:u.b.VehicleInfo.isRequired,type:u.b.Type.isRequired};var V=a("./site-modules/shared/components/inventory-price/inventory-price.jsx");function R(e){let t=e.prices,a=e.bestDealPrice,s=e.type,n=e.dealerInfo,i=e.isBestDealPriceEnabled,r=e.monthlyPaymentType;if(!t)return null;const l=m()(t,"loan.payment",null),d=m()(t,"estimateLeasePromise.monthlyPayment",null),c=m()(n,"productFeatures",null),u=r===N.a&&d,p=r===N.b&&l;return p&&u||c?o.a.createElement("div",null,o.a.createElement(V.a,{type:s,prices:t,bestDealPrice:a,productFeatures:c,priceNameClasses:"small text-gray-darker d-block",priceClasses:"font-weight-bold text-gray-darker",priceNameNew:i?"Edmunds Suggested Price":"MSRP",priceNameUsed:"List",isBestDealPriceEnabled:i}),p&&o.a.createElement("div",{className:"small text-gray-darker"},"Est.Loan: ",o.a.createElement("span",{className:"font-weight-bold"},Object(v.a)(l),"/mo")),u&&o.a.createElement("div",{className:"small text-gray-darker"},"Est.Lease: ",o.a.createElement("span",{className:"font-weight-bold text-gray-darker"},Object(v.a)(d),"/mo"))):null}R.propTypes={dealerInfo:u.b.DealerInfo.isRequired,prices:u.b.Prices,bestDealPrice:r.a.number,type:u.b.Type.isRequired,isBestDealPriceEnabled:r.a.bool,monthlyPaymentType:r.a.string},R.defaultProps={prices:null,isBestDealPriceEnabled:!1,computedInfo:null,monthlyPaymentType:N.b,bestDealPrice:0};var U=a("../node_modules/lodash/round.js"),L=a.n(U),M=a("./site-modules/shared/components/rating-stars-count/rating-stars-count.jsx");function q(e){let t=e.dealerInfo;const a=m()(t,"address.city",null),s=m()(t,"address.stateName",null),n=m()(t,"name",null),i=m()(t,"rooftopLogicalName",null),r=m()(t,"displayInfo.salesOverallRating",0),l=m()(t,"displayInfo.salesReviewCount",0);if(!(s&&a&&i&&n))return null;const d=t.distance;return o.a.createElement("div",{className:"dealer-info"},o.a.createElement(M.a,{starClass:"m-0 text-primary-darker",starsWrapperClass:"medium",ratingAverage:r,ratingCount:l}),o.a.createElement("div",{className:"medium text-gray-darker"},n),o.a.createElement("div",{className:"small text-gray-darker"},d&&o.a.createElement("span",null,L()(d,1)," mi away")))}q.propTypes={dealerInfo:u.b.DealerInfo.isRequired};var W=a("./site-modules/shared/components/deal/deal-type/deal-type.jsx");function B(e){let t=e.prices,a=e.thirdPartyInfo,s=e.showSavings;const n=m()(t,"savings",null),i=m()(a,"priceValidation.dealType",null);return i?o.a.createElement("div",{className:"inventory-card-deal-type d-flex flex-column align-items-start mt-0_75"},o.a.createElement(W.a,{width:"25",type:i,textSize:"small"}),s&&!!n&&o.a.createElement("span",{className:"small text-gray-darker"},Object(v.a)(n)," Below Market")):null}function z(e){let t=e.inventory,a=e.isBestDealPriceEnabled,i=e.bestDealPrice,r=e.monthlyPaymentType,l=e.imageLoaded,d=Object(j.a)(e,["inventory","isBestDealPriceEnabled","bestDealPrice","monthlyPaymentType","imageLoaded"]);const c=t.dealerInfo,u=t.vehicleInfo,p=t.vin,h=t.type,v=t.prices,y=t.thirdPartyInfo,g=m()(t,"stockPhotoInfo.stockPhotos[0].urls[0]","");return o.a.createElement(n.Fragment,null,o.a.createElement(C.b,{type:h,vin:p,vehicleInfo:u,stockPhotoUrl:g,imageLoaded:l}),o.a.createElement("div",{className:"inventory-card-body px-0_5 pt-1_25"},o.a.createElement(x.a,{className:"px-0_5 px-xl-0_75"},o.a.createElement(k.a,{xs:6,className:"px-0_25"},o.a.createElement(S,{vehicleInfo:u,type:h}),o.a.createElement(q,{dealerInfo:c})),o.a.createElement(k.a,{xs:6,className:"px-0_25"},o.a.createElement(R,{prices:v,bestDealPrice:i,type:h,dealerInfo:c,isBestDealPriceEnabled:a,monthlyPaymentType:r}),o.a.createElement(B,{thirdPartyInfo:y,prices:v,showSavings:Object(f.A)(h)}),o.a.createElement(A,Object(s.a)({dealerInfo:c},d))))))}B.propTypes={prices:u.b.Prices.isRequired,thirdPartyInfo:u.b.ThirdPartyInfo,showSavings:r.a.bool},B.defaultProps={thirdPartyInfo:null,showSavings:!0},z.propTypes={inventory:u.b.InventoryVin.isRequired,isBestDealPriceEnabled:r.a.bool,monthlyPaymentType:r.a.string,bestDealPrice:r.a.number,imageLoaded:r.a.bool},z.defaultProps={isBestDealPriceEnabled:!1,monthlyPaymentType:N.b,bestDealPrice:0,imageLoaded:!0};var $=a("./site-modules/shared/components/inventory-card/inventory-card-lease-terms.jsx");function F(e){let t=e.content,a=e.open,s=e.onToggle,i=e.dealerInfo,r=e.monthlyPaymentType;const l=i.franchiseId,c=i.rooftopId,m=r===N.a;return o.a.createElement(n.Fragment,null,t&&o.a.createElement("div",{className:"mb-1 pr-1 small text-right mt-auto"},o.a.createElement("button",{className:"open-content small p-0 border-0 text-gray-darker bg-white",onClick:s,"data-tracking-id":"dealer_engagement_view_comments","data-dealer-franchise-id":l,"data-dealer-rooftop-id":c},"More info")),o.a.createElement("div",{className:d()("additional-content-container pt-1 pb-2_5 px-0_75 bg-white text-left",{"d-none":!a})},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("span",null,"Dealer Notes"),o.a.createElement("button",{className:"close-content bg-white icon-cross2 text-gray-dark p-0 border-0",onClick:s,"aria-label":"Close dealer notes"})),o.a.createElement("div",{className:"content h-100 small mt-0_5"},o.a.createElement("div",{className:"small mb-1"},t),m&&o.a.createElement($.a,{className:"small",captionClassName:"small"}))))}F.propTypes={content:r.a.oneOfType([r.a.string,r.a.element]).isRequired,open:r.a.bool.isRequired,onToggle:r.a.func.isRequired,dealerInfo:u.b.DealerInfo.isRequired,monthlyPaymentType:r.a.string},F.defaultProps={monthlyPaymentType:N.b};a("./site-modules/shared/components/inventory-card/inventory-card.scss");a.d(t,"a",function(){return H});class H extends n.Component{constructor(){super(...arguments),this.state={openSellersComments:!1},this.toggleSellersComments=(()=>{this.setState(e=>{return{openSellersComments:!e.openSellersComments}})})}render(){const e=this.props,t=e.inventory,a=e.isBestDealPriceActive,i=e.inventoryCardClasses,r=e.inventoryCardLink,l=e.trackingId,c=e.trackingValue,u=e.imageLoaded,p=t.sellersComments,j=t.vehicleInfo,E=t.dealerInfo,x=t.vin,P=m()(t,"prices.displayPrice",0),k=m()(t,"computedDisplayInfo.transparentPricingCompliance.bestDealPrice",0),N=m()(E,"franchiseId",""),C=m()(E,"rooftopId",0),_=a&&k>0,I=_&&P?o.a.createElement(n.Fragment,null,p,o.a.createElement("p",{className:"small mt-1"},"MSRP: ",Object(v.a)(P))):p;return o.a.createElement(h.a,{className:d()("inventory-card-wrapper",i)},o.a.createElement("div",null,o.a.createElement(b.a,{to:r||Object(f.r)({vehicleInfo:j,dealerInfo:E,vin:x},!1,!0),"data-tracking-id":l,"data-dealer-rooftop-id":C,"data-dealer-franchise-id":N,"data-tracking-value":c,className:"inventory-card-link rounded-top d-block",rel:"nofollow"},o.a.createElement(z,Object(s.a)({onToggle:this.toggleSellersComments,bestDealPrice:k,isBestDealPriceEnabled:_,imageLoaded:u},this.props)))),o.a.createElement(g.a,{vehicle:t,CustomView:y.a}),I&&o.a.createElement(F,Object(s.a)({},this.props,{content:I,onToggle:this.toggleSellersComments,open:this.state.openSellersComments,dealerInfo:E})))}}H.propTypes={inventory:u.b.InventoryVin,inventoryCardLink:r.a.string,isBestDealPriceActive:r.a.bool,inventoryCardClasses:r.a.string,trackingId:r.a.string,trackingValue:r.a.string,imageLoaded:r.a.bool},H.defaultProps={inventory:{sellersComments:""},inventoryCardLink:null,isBestDealPriceActive:!1,inventoryCardClasses:"h-100",trackingId:"dealer_view_pricing_details",trackingValue:null,imageLoaded:!0}},"./site-modules/shared/components/inventory-heart/inventory-heart.jsx":function(e,t,a){"use strict";var s=a("../node_modules/lodash/isEmpty.js"),n=a.n(s),o=a("../node_modules/lodash/get.js"),i=a.n(o),r=a("../node_modules/react/index.js"),l=a.n(r),d=a("../node_modules/prop-types/index.js"),c=a.n(d),m=a("../node_modules/react-redux/es/index.js"),u=a("../node_modules/classnames/index.js"),p=a.n(u),h=a("./tracking/constant.js"),v=a("./site-modules/shared/components/heart-button/heart-button.jsx"),y=a("./site-modules/shared/components/profile/insider-save-vin-wrapper/insider-save-vin-wrapper.jsx"),g=a("../node_modules/reactstrap/lib/Tooltip.js"),b=a.n(g),f=a("./site-modules/shared/components/link/link.jsx"),j=a("./site-modules/shared/constants/profile/dashboard-paths.js"),E=a("./engagement-handlers/profile-engagement-handler/profile-engagement-handler.js");const x=[".modal",".sign-up-drawer",".sign-in-drawer",".authenticated-modal",".inventory-heart-tooltip"];a("./site-modules/shared/components/inventory-heart/inventory-heart-tooltip.scss");class P extends r.Component{constructor(){super(...arguments),this.initializeClickCloseEvents=(()=>{document.removeEventListener("click",this.tooltipClose),document.addEventListener("click",this.tooltipClose)}),this.tooltipClose=(e=>{e.target.closest(x.join(","))||(this.props.closeCallback(),Object(E.g)("inventory-heart-tooltip"))})}componentDidMount(){this.initializeClickCloseEvents()}componentWillUnmount(){this.props.isOpen&&this.props.closeCallback(),document.removeEventListener("click",this.tooltipClose)}render(){const e=this.props,t=e.target,a=e.className,s=e.isOpen,n=e.placement,o=e.flip;return l.a.createElement(b.a,{className:p()("inventory-heart-tooltip",a),target:t,isOpen:s,placement:n,flip:o},l.a.createElement("div",{className:"small text-gray-dark","data-tracking-parent":"inventory-heart-tooltip"},l.a.createElement("span",null,"Saved! We've added this car to")," ",l.a.createElement(f.a,{to:j.a.INVENTORY_PAGE,className:"text-primary","data-tracking-id":"inventory_heart_tooltip_link",rel:"nofollow"},"your Dashboard"),"."))}}P.propTypes={target:c.a.string.isRequired,closeCallback:c.a.func.isRequired,className:c.a.string,isOpen:c.a.bool,flip:c.a.bool,placement:c.a.string},P.defaultProps={className:null,isOpen:!1,flip:!0,placement:"left"},a.d(t,"a",function(){return C}),a.d(t,"b",function(){return _});class k extends r.PureComponent{constructor(e){super(e),this.toggleHeart=(()=>this.setState(e=>({inProgress:!e.inProgress}))),this.handleClick=((e,t)=>{const a=this.props,s=a.startInsiderAction,n=a.forceNoTooltip,o=a.isActive;return this.toggleHeart(),s(e,t).then(()=>{n||this.setState(()=>({enableTooltip:!o}))}).then(this.toggleHeart)}),this.tooltipCloseCallback=(()=>{this.setState(()=>({enableTooltip:!1}))}),this.state={inProgress:!1,enableTooltip:!1}}render(){const e=this.state,t=e.inProgress,a=e.enableTooltip,s=this.props,n=s.isAuthenticated,o=s.CustomView,i=s.vehicle,r=s.isMobile,d=s.emptyIdmData,c=s.classes,m=s.userHasEmail,u=s.handleNonEmailUser,y=s.spinnerSize,g=s.tooltipFlip,b=s.tooltipPlacement,f=s.trackingId,j=s.isActive,E=s.emptyProfileScreen,x=i.vin,k=`inventory-heart-custom-view-${x}`;return o?l.a.createElement("div",{id:k},l.a.createElement(o,{active:j,spinnerSize:y,disabled:t||n&&d,isAuthenticated:n,onClick:this.handleClick,userHasEmail:m&&u,trackingId:f,trackingValue:x,isMobile:r,className:c,vin:x}),a&&l.a.createElement(P,{target:k,isOpen:j&&E,placement:b,flip:g,closeCallback:this.tooltipCloseCallback})):l.a.createElement(v.a,{onClick:this.handleClick,className:p()("text-zdepth-1",c),inProgress:t,isActive:j,trackingId:f||"vin_sign_up_progress",trackingValue:x,trackingSubactionName:j?h.b.UNSAVE_VIN:h.b.SAVE_VIN})}}k.propTypes={vehicle:c.a.shape({vin:c.a.string.isRequired}).isRequired,isAuthenticated:c.a.bool,CustomView:c.a.oneOfType([c.a.func,c.a.object]),isMobile:c.a.bool,emptyIdmData:c.a.bool,emptyProfileScreen:c.a.bool,classes:c.a.string,forceNoTooltip:c.a.bool,userHasEmail:c.a.bool,handleNonEmailUser:c.a.bool,spinnerSize:c.a.number,tooltipFlip:c.a.bool,tooltipPlacement:c.a.string,trackingId:c.a.string.isRequired,isActive:c.a.bool,startInsiderAction:c.a.func.isRequired},k.defaultProps={isAuthenticated:null,CustomView:null,isMobile:!1,emptyIdmData:!0,emptyProfileScreen:!1,classes:"",forceNoTooltip:!1,userHasEmail:!1,handleNonEmailUser:!1,spinnerSize:null,innerRef:null,tooltipFlip:!0,tooltipPlacement:"left",isActive:!1};const N=e=>({isMobile:e.mobile,emptyIdmData:n()(i()(e,"profile.data.idm")),emptyProfileScreen:n()(i()(e,"profile.screen"))}),C=Object(m.c)(N)(Object(y.a)(k,!0)),_=Object(m.c)(N)(Object(y.a)(k,!1));C.propTypes={vehicle:c.a.shape({}).isRequired,CustomView:c.a.oneOfType([c.a.func,c.a.object])},C.defaultProps={CustomView:null}},"./site-modules/shared/components/inventory/vin-heart/vin-heart.jsx":function(e,t,a){"use strict";a.d(t,"a",function(){return u});var s=a("../node_modules/react/index.js"),n=a.n(s),o=a("../node_modules/prop-types/index.js"),i=a.n(o),r=a("../node_modules/classnames/index.js"),l=a.n(r),d=a("../node_modules/reactstrap/lib/Button.js"),c=a.n(d),m=a("./site-modules/shared/components/spinner/spinner.jsx");a("./site-modules/shared/components/inventory/vin-heart/vin-heart.scss");function u(e){let t=e.active,a=e.disabled,s=e.onClick,o=e.trackingValue,i=e.isAuthenticated;const r={"icon-heart4":!t,"icon-heart3":t},d={vin_save_vehicle:i&&!t,vin_sign_up_progress:!i,vin_unsave_vehicle:i&&t},u=i?o:"save_vin";return n.a.createElement(c.a,{color:"link",className:"vin-heart-button text-white py-0_25 px-0_5 my-0_25",disabled:a,onClick:s,"data-tracking-id":l()(d),"data-tracking-value":u,title:t?"Remove this car":"Save this car","aria-label":t?"Remove this car":"Save this car"},a?n.a.createElement(m.a,{size:21,color:"white"}):n.a.createElement("i",{className:l()("vin-heart-icon align-middle",r)}))}u.propTypes={active:i.a.bool,disabled:i.a.bool,onClick:i.a.func,trackingValue:i.a.string,isAuthenticated:i.a.bool},u.defaultProps={active:!1,disabled:!1,onClick:null,trackingValue:"",isAuthenticated:!1}},"./site-modules/shared/components/profile/insider-save-vin-wrapper/insider-save-vin-wrapper.jsx":function(e,t,a){"use strict";a.d(t,"a",function(){return _});var s=a("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=a("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=a("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=a("../node_modules/lodash/merge.js"),r=a.n(i),l=a("../node_modules/lodash/reduce.js"),d=a.n(l),c=a("../node_modules/lodash/get.js"),m=a.n(c),u=a("../node_modules/react/index.js"),p=a.n(u),h=a("../node_modules/react-redux/es/index.js"),v=a("./site-modules/shared/components/profile/insider-methods.jsx"),y=a("./data/luckdragon/redux/react-binding.jsx"),g=a("./data/models/profile/profile.js"),b=a("./site-modules/shared/components/profile/attributes/bundles.js"),f=a("./utils/isomorphic-logger.js"),j=a("./actions/profile.js"),E=a("./site-modules/shared/components/profile/profile-screen.js"),x=a("./site-modules/shared/components/profile/firebase-anonymous-auth.js"),P=a("./engagement-handlers/profile-engagement-handler/profile-engagement-handler.js");const k={savedVins:{path:e=>e.isAuthenticated?"data.idm":"",segment:g.b,transform:e=>{const t=m()(e,"vehicles.vins",{});return d()(t,(e,t,a)=>Object(o.a)({},e,{[a]:!!t.savedTs}),{})}}},N=e=>({isAuthenticated:m()(e,"profile.isAuthenticated"),userHasEmail:!!m()(e,"profile.data.idm.identifiers.email"),isAnonymousUserWithAppraisal:Object(x.b)(e),edmundsDeals:m()(e,"profile.data.idm.edmundsDeals")}),C=e=>({toggleAuthenticatedModal:t=>e(Object(j.d)(E.a.SIGN_UP_MODAL,t))}),_=(e,t)=>Object(v.a)(Object(h.c)(N,C)(Object(y.b)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"save-vin-anonymous";class i extends u.PureComponent{constructor(e){super(e),this.isAuthenticatedUserWithNoEmail=(()=>{const e=this.props,t=e.isAuthenticated,a=e.userHasEmail,s=e.handleNonEmailUser;return t&&!a&&s}),this.startInsiderAction=((e,t)=>{const a=this.props,s=a.vehicle,n=a.isAuthenticated,i=a.toggleAuthenticatedModal,r=a.modelLinkCode,l=a.isAnonymousUserWithAppraisal,d=Object(o.a)({},s,{modelLinkCode:r}),c=this.isActive;let m=this.saveVin;return this.isAuthenticatedUserWithNoEmail()&&c?i():(n?l&&(Object(P.b)("ANONYMOUS_UPGRADE_SAVE_VIN"),m=this.authenticateSave):m=this.authenticateSave,m(t?Object(b.c)(d,c,t):Object(b.e)(d,c),l))}),this.saveVin=(e=>{const t=this.props,a=t.removeDataFromIdm,s=t.updateIdmData,n=t.toggleAuthenticatedModal,o=t.vehicle,i=t.edmundsDeals.find(e=>e.vin===o.vin),l=this.isActive&&i;return(this.isActive?a:s)(r()(e,l&&{edmundsDeals:[i]})).then(()=>this.isAuthenticatedUserWithNoEmail()&&n()).catch(()=>{Object(f.a)("warn","vehicle is not saved to a storage properly")})}),this.authenticateSave=(async e=>{const t=this.props,s=t.signInAnonymousWithToggleModalAndSave,n=t.isAnonymousUserWithAppraisal,o=t.showModal;try{if(await s(e,{creativeId:a,showModal:o}),e.vehicles){const t=Object.keys(e.vehicles.vins)[0];n||Object(P.e)(t)}}catch(e){Object(f.a)("warn","vehicle is not saved to a storage properly",e)}}),this.state={inProgress:!1}}get isActive(){const e=this.props,a=e.savedVins,s=e.vehicle,n=m()(s,"vin");return!!t&&!(!a||!a[n])}render(){const t=this.props,a=(t.isAnonymousUserWithAppraisal,t.toggleAuthenticatedModal,t.savedVins,t.isAuthenticated),o=t.handleNonEmailUser,i=Object(n.a)(t,["isAnonymousUserWithAppraisal","toggleAuthenticatedModal","savedVins","isAuthenticated","handleNonEmailUser"]),r=!a||o&&!this.isAuthenticatedUserWithNoEmail()?"":"vin_save_vehicle";return p.a.createElement(e,Object(s.a)({},i,{isAuthenticated:a,handleNonEmailUser:o,saveVin:this.saveVin,toggleAuthenticatedModal:this.toggleAuthenticatedModal,authenticate:this.authenticate,isAuthenticatedUserWithNoEmail:this.isAuthenticatedUserWithNoEmail,startInsiderAction:this.startInsiderAction,isActive:this.isActive,trackingId:r}))}}i.defaultProps={showModal:!0,edmundsDeals:[]};const l=e.displayName||e.name;return l&&(i.displayName=`insiderSaveVinWrapper(${l})`),i}(e,t),k)),!0)},"./site-modules/shared/constants/default-lease-terms.js":function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return n}),a.d(t,"c",function(){return o});const s=36,n=1e3,o=12e3},"./site-modules/shared/constants/inventory/payment-types.js":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});const s="lease",n="loan"}}]);
//# sourceMappingURL=18.chunk.b562bead3fe9ac800941.js.map